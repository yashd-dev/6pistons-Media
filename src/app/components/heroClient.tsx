"use client";

import { useInView, useScroll, useTransform, motion } from "framer-motion";
import { useRef } from "react";
import VideoOverlay from "./video";
import Link from "next/link";
import Image from "next/image";

export function HomeClient() {
  const ref = useRef<HTMLDivElement>(null);
  const isInView = useInView(ref, { once: true });

  const ref2 = useRef<HTMLDivElement>(null);
  const isInView2 = useInView(ref2, { once: true });

  const { scrollYProgress } = useScroll({
    target: ref2,
    offset: ["start end", "end end"],
  });

  // Transform scroll progress to opacity
  const opacity = useTransform(scrollYProgress, [0, 1], [0, 1]);

  return (
    <>
      <motion.div
        className="fixed inset-0 bg-background z-20 bg-[url('/noise.png')] bg-[length:50px_50px] bg-[0_0] "
        style={{ opacity }}
      />
      <VideoOverlay>
        <div
          className="flex flex-col items-start justify-center bg-transparent h-screen h-[100svh] max-h-[1080px] px-4 mx-auto md:px-28"
          ref={ref}
        >
          <svg
            width="775"
            height="239"
            viewBox="0 0 775 239"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            style={{
              opacity: isInView ? 1 : 0,
              transition: "all 0.9s cubic-bezier(0.17, 0.55, 0.55, 1) 0.5s",
              transitionDelay: "2s",
            }}
            className=" w-[90vw] h-fit md:w-full xl:w-[1080px]"
          >
            <path
              d="M47.5 199C32.8333 199 22.3667 195.9 16.1 189.7C9.9 183.5 6.5 173.2 5.9 158.8C5.83333 156.667 5.8 154.333 5.8 151.8C5.8 149.2 5.86667 146.633 6 144.1C6.13333 141.5 6.36667 139.133 6.7 137H34.9C34.6333 141.867 34.4667 146.667 34.4 151.4C34.3333 156.133 34.5 160.467 34.9 164.4C35.2333 167.667 36.4 170.2 38.4 172C40.4667 173.733 43.5 174.6 47.5 174.6C51.4333 174.6 54.3 173.733 56.1 172C57.9667 170.2 59.1 167.667 59.5 164.4C59.7667 162.133 59.9333 159.9 60 157.7C60.1333 155.433 60.1333 153.2 60 151C59.9333 148.733 59.7667 146.467 59.5 144.2C59.2333 141.4 58.3667 138.867 56.9 136.6C55.4333 134.333 53.1 132.8 49.9 132L33.5 127.8C26.5667 126 21.0667 123.433 17 120.1C12.9333 116.7 9.96667 112.5 8.1 107.5C6.3 102.5 5.3 96.6667 5.1 90C5.03333 87.0667 5 84.4667 5 82.2C5 79.8667 5.03333 77.4667 5.1 75C5.5 65.4667 7.1 57.7667 9.9 51.9C12.7667 46.0333 17.2333 41.7667 23.3 39.1C29.3667 36.3667 37.4333 35 47.5 35C61.7 35 72 38.1 78.4 44.3C84.8 50.4333 88.3 60.6667 88.9 75C89.0333 77.8667 89.0333 81.3667 88.9 85.5C88.8333 89.6333 88.7 93.4667 88.5 97H59.7C59.9 92.4 60.0333 87.8 60.1 83.2C60.1667 78.6 60.1 74 59.9 69.4C59.8333 66.2 58.6667 63.7333 56.4 62C54.2 60.2667 51.2333 59.4 47.5 59.4C43.5 59.4 40.5333 60.2667 38.6 62C36.6667 63.7333 35.5 66.2 35.1 69.4C34.7 72.8 34.5 76.2333 34.5 79.7C34.5 83.1667 34.7 86.6 35.1 90C35.4333 92.6667 36.3667 95.1 37.9 97.3C39.4333 99.5 41.9 101 45.3 101.8L59.5 105.2C66.9667 107 72.8333 109.667 77.1 113.2C81.4333 116.667 84.5333 121 86.4 126.2C88.3333 131.333 89.4333 137.333 89.7 144.2C89.7667 145.733 89.8 147.333 89.8 149C89.8 150.667 89.7667 152.333 89.7 154C89.6333 155.667 89.5667 157.267 89.5 158.8C88.9 173.2 85.4333 183.5 79.1 189.7C72.8333 195.9 62.3 199 47.5 199ZM90.7266 197V37H120.727V197H90.7266ZM119.12 197L144.12 113.8L119.72 37H149.12L159.52 74.4L162.12 101.8H166.12L168.72 74.4L178.72 37H208.12L184.92 114.8L208.72 197H179.32L168.72 157.6L166.12 128.2H162.12L159.52 157.6L148.52 197H119.12Z"
              fill="#F5F5F5"
            />
            <path
              d="M235 197V37H273.6C288.533 37 299.3 40.0333 305.9 46.1C312.567 52.1 316.133 62.0667 316.6 76C316.8 81.6 316.9 86.8 316.9 91.6C316.9 96.4 316.8 101.6 316.6 107.2C316.133 121.067 312.567 131.033 305.9 137.1C299.3 143.167 288.533 146.2 273.6 146.2H265V197H235ZM265 119.8H273.6C277.8 119.8 280.967 118.833 283.1 116.9C285.233 114.967 286.4 112.267 286.6 108.8C286.8 105.533 286.933 101.867 287 97.8C287.067 93.6667 287.067 89.5667 287 85.5C286.933 81.3667 286.8 77.6667 286.6 74.4C286.4 70.8667 285.233 68.1667 283.1 66.3C280.967 64.3667 277.8 63.4 273.6 63.4H265V119.8ZM317.141 197V37H347.141V197H317.141ZM390.734 199C376.068 199 365.601 195.9 359.334 189.7C353.134 183.5 349.734 173.2 349.134 158.8C349.068 156.667 349.034 154.333 349.034 151.8C349.034 149.2 349.101 146.633 349.234 144.1C349.368 141.5 349.601 139.133 349.934 137H378.134C377.868 141.867 377.701 146.667 377.634 151.4C377.568 156.133 377.734 160.467 378.134 164.4C378.468 167.667 379.634 170.2 381.634 172C383.701 173.733 386.734 174.6 390.734 174.6C394.668 174.6 397.534 173.733 399.334 172C401.201 170.2 402.334 167.667 402.734 164.4C403.001 162.133 403.168 159.9 403.234 157.7C403.368 155.433 403.368 153.2 403.234 151C403.168 148.733 403.001 146.467 402.734 144.2C402.468 141.4 401.601 138.867 400.134 136.6C398.668 134.333 396.334 132.8 393.134 132L376.734 127.8C369.801 126 364.301 123.433 360.234 120.1C356.168 116.7 353.201 112.5 351.334 107.5C349.534 102.5 348.534 96.6667 348.334 90C348.268 87.0667 348.234 84.4667 348.234 82.2C348.234 79.8667 348.268 77.4667 348.334 75C348.734 65.4667 350.334 57.7667 353.134 51.9C356.001 46.0333 360.468 41.7667 366.534 39.1C372.601 36.3667 380.668 35 390.734 35C404.934 35 415.234 38.1 421.634 44.3C428.034 50.4333 431.534 60.6667 432.134 75C432.268 77.8667 432.268 81.3667 432.134 85.5C432.068 89.6333 431.934 93.4667 431.734 97H402.934C403.134 92.4 403.268 87.8 403.334 83.2C403.401 78.6 403.334 74 403.134 69.4C403.068 66.2 401.901 63.7333 399.634 62C397.434 60.2667 394.468 59.4 390.734 59.4C386.734 59.4 383.768 60.2667 381.834 62C379.901 63.7333 378.734 66.2 378.334 69.4C377.934 72.8 377.734 76.2333 377.734 79.7C377.734 83.1667 377.934 86.6 378.334 90C378.668 92.6667 379.601 95.1 381.134 97.3C382.668 99.5 385.134 101 388.534 101.8L402.734 105.2C410.201 107 416.068 109.667 420.334 113.2C424.668 116.667 427.768 121 429.634 126.2C431.568 131.333 432.668 137.333 432.934 144.2C433.001 145.733 433.034 147.333 433.034 149C433.034 150.667 433.001 152.333 432.934 154C432.868 155.667 432.801 157.267 432.734 158.8C432.134 173.2 428.668 183.5 422.334 189.7C416.068 195.9 405.534 199 390.734 199ZM452.861 197V63.4H427.161V37H508.561V63.4H482.861V197H452.861ZM545.202 199C530.535 199 519.902 195.9 513.302 189.7C506.768 183.5 503.335 173.2 503.002 158.8C502.868 152.267 502.768 145.467 502.702 138.4C502.635 131.333 502.602 124.167 502.602 116.9C502.602 109.633 502.635 102.467 502.702 95.4C502.768 88.3333 502.868 81.5333 503.002 75C503.335 60.6667 506.768 50.4333 513.302 44.3C519.902 38.1 530.535 35 545.202 35C559.935 35 570.502 38.1 576.902 44.3C583.302 50.4333 586.735 60.6667 587.202 75C587.468 81.6667 587.668 88.5333 587.802 95.6C587.935 102.667 588.002 109.833 588.002 117.1C588.002 124.3 587.935 131.433 587.802 138.5C587.668 145.5 587.468 152.267 587.202 158.8C586.735 173.2 583.302 183.5 576.902 189.7C570.502 195.9 559.935 199 545.202 199ZM545.202 174.6C549.135 174.6 552.102 173.733 554.102 172C556.102 170.2 557.135 167.667 557.202 164.4C557.535 157.6 557.768 150.133 557.902 142C558.035 133.867 558.102 125.5 558.102 116.9C558.102 108.3 558.035 99.9333 557.902 91.8C557.768 83.6667 557.535 76.2 557.202 69.4C557.135 66.2 556.068 63.7333 554.002 62C551.935 60.2667 549.002 59.4 545.202 59.4C541.402 59.4 538.435 60.2667 536.302 62C534.235 63.7333 533.135 66.2 533.002 69.4C532.735 76.2 532.502 83.6667 532.302 91.8C532.168 99.9333 532.102 108.3 532.102 116.9C532.102 125.5 532.168 133.867 532.302 142C532.502 150.133 532.735 157.6 533.002 164.4C533.135 167.667 534.235 170.2 536.302 172C538.435 173.733 541.402 174.6 545.202 174.6ZM590.82 197V37H634.22L646.22 88L657.22 170.6H662.42L656.82 105.6L654.42 37H683.42V197H637.82L625.82 144.6L617.62 63.2H612.02L617.22 135.6L619.82 197H590.82ZM726.914 199C712.247 199 701.781 195.9 695.514 189.7C689.314 183.5 685.914 173.2 685.314 158.8C685.247 156.667 685.214 154.333 685.214 151.8C685.214 149.2 685.281 146.633 685.414 144.1C685.547 141.5 685.781 139.133 686.114 137H714.314C714.047 141.867 713.881 146.667 713.814 151.4C713.747 156.133 713.914 160.467 714.314 164.4C714.647 167.667 715.814 170.2 717.814 172C719.881 173.733 722.914 174.6 726.914 174.6C730.847 174.6 733.714 173.733 735.514 172C737.381 170.2 738.514 167.667 738.914 164.4C739.181 162.133 739.347 159.9 739.414 157.7C739.547 155.433 739.547 153.2 739.414 151C739.347 148.733 739.181 146.467 738.914 144.2C738.647 141.4 737.781 138.867 736.314 136.6C734.847 134.333 732.514 132.8 729.314 132L712.914 127.8C705.981 126 700.481 123.433 696.414 120.1C692.347 116.7 689.381 112.5 687.514 107.5C685.714 102.5 684.714 96.6667 684.514 90C684.447 87.0667 684.414 84.4667 684.414 82.2C684.414 79.8667 684.447 77.4667 684.514 75C684.914 65.4667 686.514 57.7667 689.314 51.9C692.181 46.0333 696.647 41.7667 702.714 39.1C708.781 36.3667 716.847 35 726.914 35C741.114 35 751.414 38.1 757.814 44.3C764.214 50.4333 767.714 60.6667 768.314 75C768.447 77.8667 768.447 81.3667 768.314 85.5C768.247 89.6333 768.114 93.4667 767.914 97H739.114C739.314 92.4 739.447 87.8 739.514 83.2C739.581 78.6 739.514 74 739.314 69.4C739.247 66.2 738.081 63.7333 735.814 62C733.614 60.2667 730.647 59.4 726.914 59.4C722.914 59.4 719.947 60.2667 718.014 62C716.081 63.7333 714.914 66.2 714.514 69.4C714.114 72.8 713.914 76.2333 713.914 79.7C713.914 83.1667 714.114 86.6 714.514 90C714.847 92.6667 715.781 95.1 717.314 97.3C718.847 99.5 721.314 101 724.714 101.8L738.914 105.2C746.381 107 752.247 109.667 756.514 113.2C760.847 116.667 763.947 121 765.814 126.2C767.747 131.333 768.847 137.333 769.114 144.2C769.181 145.733 769.214 147.333 769.214 149C769.214 150.667 769.181 152.333 769.114 154C769.047 155.667 768.981 157.267 768.914 158.8C768.314 173.2 764.847 183.5 758.514 189.7C752.247 195.9 741.714 199 726.914 199Z"
              fill="#ED203D"
            />
          </svg>

          <h2
            className=" uppercase md:font-semibold  tracking-[0.8em]  md:tracking-[1.2em] text-foreground text-lg md:text-2xl pt-5 md:pt-0 pl-2 md:pl-5 "
            style={{
              opacity: isInView ? 1 : 0,
              transition: "all 0.9s cubic-bezier(0.17, 0.55, 0.55, 1) 0.5s",
              transitionDelay: "3s",
            }}
          >
            Motor Reviews <br className="md:hidden" /> Done Right
          </h2>
        </div>
      </VideoOverlay>
      <section className="flex flex-col items-end justify-start w-full h-full relative z-20 px-4 md:p-28  text-foreground mx-auto gap-10 ">
        <div className="h-1 w-full bg-BrandRed/10"></div>
        <h1 className="text-xl font-bold uppercase text-BrandRed" id="about">About Us</h1>
        <p className="text-xl md:text-6xl font-medium text-foreground text-right uppercase max-w-prose">
          6Pistons → Your ultimate destination for expert automotive insights
          and reviews. From cars to two-wheelers, every review empowers buyers,
          enthusiasts, and industry leaders ● We focus on performance, design,
          and tech to deliver actionable advice. At 6Pistons, it's more than
          vehicles—it's about innovation, experiences, and the future of
          mobility.
        </p>
      </section>
    </>
  );
}
